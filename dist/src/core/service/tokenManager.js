const a0_0x5bd611=a0_0x26d2;(function(_0x476133,_0x376b34){const _0x24857b=a0_0x26d2,_0x3a91cf=_0x476133();while(!![]){try{const _0x147605=parseInt(_0x24857b(0x19e))/0x1*(-parseInt(_0x24857b(0x1c3))/0x2)+-parseInt(_0x24857b(0x1b6))/0x3+-parseInt(_0x24857b(0x1b9))/0x4+parseInt(_0x24857b(0x1a9))/0x5+parseInt(_0x24857b(0x1a0))/0x6*(-parseInt(_0x24857b(0x1c8))/0x7)+parseInt(_0x24857b(0x1a6))/0x8+parseInt(_0x24857b(0x1bd))/0x9*(parseInt(_0x24857b(0x198))/0xa);if(_0x147605===_0x376b34)break;else _0x3a91cf['push'](_0x3a91cf['shift']());}catch(_0x486e9e){_0x3a91cf['push'](_0x3a91cf['shift']());}}}(a0_0x2817,0xe4890));function a0_0x26d2(_0x2647d5,_0x202c18){const _0x28179d=a0_0x2817();return a0_0x26d2=function(_0x26d219,_0x24addf){_0x26d219=_0x26d219-0x18e;let _0x41f310=_0x28179d[_0x26d219];return _0x41f310;},a0_0x26d2(_0x2647d5,_0x202c18);}import{ethers}from'ethers';function a0_0x2817(){const _0x324ed8=['Failed\x20to\x20wrap\x20CTC','2050200euRKie','üîÑ\x20Wrapping\x20','constant','2720EzsElD','hash','\x20failed','FIXED_GAS_LIMIT','27587997ckLEQC','WCTC_ADDRESS','FIXED_GAS_PRICE','coreInstance','withdraw','serviceManager','674qpyLFl','retryTransaction','address','log','message','13517Eqhonn','swapCount','accounts','‚ùå\x20Transaction\x20failed\x20to\x20send.','handleError','error','\x20success','‚ùå\x20Approving\x20token\x20failed','waitForTransactionConfirmation','MaxUint256','wrap','‚úîÔ∏è\x20\x20Unwrapping\x20','Transaction\x20failed\x20to\x20send.','10dEAMwP','approveToken','sendTransaction','\x20CTC\x20to\x20WCTC\x20success','getTransactionCount','formatUnits','2973YqbOtR','Approving\x20','5268jXdItl','Contract','walletInstance','approve','N/A','‚úîÔ∏è\x20\x20','6308904FnefBy','contracts','üîÑ\x20Unwrapping\x20','2317665MniHeT','encodeFunctionData','toString','parseEther','toFixed','provider','WCTC','\x20WCTC\x20to\x20CTC\x20success','handleTransaction','\x20CTC\x20into\x20WCTC','\x20Into\x20','interface'];a0_0x2817=function(){return _0x324ed8;};return a0_0x2817();}import a0_0x5bce66 from'../../utils/twister.js';import{ERC20_ABI}from'../../abi/abi.js';import a0_0x132157 from'../../../setup.js';export default class TokenManager{constructor(_0x4987ca,_0x165130){const _0x3aa8e0=a0_0x26d2;this[_0x3aa8e0(0x1c0)]=_0x4987ca,this[_0x3aa8e0(0x1c2)]=_0x165130;}async['checkAllowance'](_0x5681da,_0x4b695d,_0x4f1dc1){const _0x4fe237=a0_0x26d2,_0x95b0d=new ethers['Contract'](_0x5681da,ERC20_ABI,this[_0x4fe237(0x1c0)][_0x4fe237(0x1a2)]);return await _0x95b0d['allowance'](_0x4f1dc1,_0x4b695d);}async[a0_0x5bd611(0x199)](_0x4b0de7,_0x42837c){const _0x3edd49=a0_0x5bd611;try{const _0x31591f=new ethers[(_0x3edd49(0x1a1))](_0x4b0de7,ERC20_ABI,this['coreInstance'][_0x3edd49(0x1a2)]),_0x34a451=await _0x31591f['symbol'](),_0x4ccde1=_0x3edd49(0x19f)+_0x34a451+_0x3edd49(0x1b3)+_0x42837c,_0x1df324=_0x31591f[_0x3edd49(0x1b4)][_0x3edd49(0x1aa)](_0x3edd49(0x1a3),[_0x42837c,ethers[_0x3edd49(0x194)]['toString']()]),_0xd0e6ff={'to':_0x4b0de7,'from':this[_0x3edd49(0x1c0)][_0x3edd49(0x1c5)],'value':0x0,'data':_0x1df324,'gasLimit':this[_0x3edd49(0x1c0)]['FIXED_GAS_LIMIT'],'gasPrice':this[_0x3edd49(0x1c0)]['FIXED_GAS_PRICE'],'nonce':await this['coreInstance'][_0x3edd49(0x1ae)][_0x3edd49(0x19c)](this[_0x3edd49(0x1c0)][_0x3edd49(0x1c5)])};try{const _0x5d7e59=await this[_0x3edd49(0x1c2)][_0x3edd49(0x1c4)](async()=>{const _0x3450a4=_0x3edd49;return await this[_0x3450a4(0x1c2)][_0x3450a4(0x1b1)](async()=>await this['coreInstance'][_0x3450a4(0x1a2)][_0x3450a4(0x19a)](_0xd0e6ff),_0x4ccde1);});if(!_0x5d7e59){this[_0x3edd49(0x1c0)]['handleError'](_0x4ccde1,_0x3edd49(0x197)),this[_0x3edd49(0x1c0)][_0x3edd49(0x1c9)]++;return;}const _0x51da83=_0x5d7e59[_0x3edd49(0x1ba)]||_0x3edd49(0x1a4);await this['serviceManager'][_0x3edd49(0x193)](_0x51da83,_0x4ccde1),a0_0x5bce66[_0x3edd49(0x1c6)](''+_0x4ccde1,this[_0x3edd49(0x1c0)][_0x3edd49(0x1ca)],this[_0x3edd49(0x1c0)],_0x3edd49(0x1a5)+_0x4ccde1+_0x3edd49(0x191));}catch(_0x276bcd){console['error'](_0x276bcd),this[_0x3edd49(0x1c0)][_0x3edd49(0x18f)]('‚ùå\x20'+_0x4ccde1+_0x3edd49(0x1bb),_0x276bcd[_0x3edd49(0x1c7)]);}}catch(_0x56ed1d){console[_0x3edd49(0x190)](_0x56ed1d),this[_0x3edd49(0x1c0)][_0x3edd49(0x18f)](_0x3edd49(0x192),_0x56ed1d[_0x3edd49(0x1c7)]);}}async['wrap'](_0x1cee94,_0x16f003=![]){const _0x19587d=a0_0x5bd611;try{const _0x5e9a35=_0x16f003===_0x19587d(0x195),_0x272fff=_0x5e9a35?'deposit':_0x19587d(0x1c1),_0x531c8f=this['coreInstance'][_0x19587d(0x1a7)][_0x19587d(0x1af)][_0x19587d(0x1b4)]['encodeFunctionData'](_0x272fff,_0x5e9a35?[]:[_0x1cee94[_0x19587d(0x1ab)]()]),_0xed23f1={'to':a0_0x132157[_0x19587d(0x1b8)][_0x19587d(0x1be)],'from':this[_0x19587d(0x1c0)][_0x19587d(0x1c5)],'value':_0x5e9a35?ethers[_0x19587d(0x1ac)](_0x1cee94):0x0,'data':_0x531c8f,'gasLimit':this['coreInstance'][_0x19587d(0x1bc)],'gasPrice':this[_0x19587d(0x1c0)][_0x19587d(0x1bf)],'nonce':await this['coreInstance'][_0x19587d(0x1ae)]['getTransactionCount'](this[_0x19587d(0x1c0)][_0x19587d(0x1c5)])},_0xe03932=_0x5e9a35?_0x19587d(0x1b7)+Number(_0x1cee94)[_0x19587d(0x1ad)](0x8)+_0x19587d(0x1b2):_0x19587d(0x1a8)+Number(ethers[_0x19587d(0x19d)](_0x1cee94,0x12))[_0x19587d(0x1ad)](0x8)+'\x20WCTC\x20into\x20CTC',_0x112cd8=await this[_0x19587d(0x1c2)][_0x19587d(0x1c4)](()=>this['serviceManager'][_0x19587d(0x1b1)](()=>this[_0x19587d(0x1c0)][_0x19587d(0x1a2)][_0x19587d(0x19a)](_0xed23f1),_0xe03932));if(!_0x112cd8){this['coreInstance'][_0x19587d(0x18f)](_0xe03932,_0x19587d(0x18e));return;}await this[_0x19587d(0x1c2)][_0x19587d(0x193)](_0x112cd8[_0x19587d(0x1ba)],_0xe03932),a0_0x5bce66[_0x19587d(0x1c6)](''+_0xe03932,this[_0x19587d(0x1c0)][_0x19587d(0x1ca)],this['coreInstance'],_0x5e9a35?'‚úîÔ∏è\x20\x20Wrapping\x20'+Number(_0x1cee94)[_0x19587d(0x1ad)](0x8)+_0x19587d(0x19b):_0x19587d(0x196)+Number(ethers[_0x19587d(0x19d)](_0x1cee94,0x12))['toFixed'](0x8)+_0x19587d(0x1b0));}catch(_0x5b82d7){this['coreInstance'][_0x19587d(0x18f)](_0x19587d(0x1b5),''+_0x5b82d7[_0x19587d(0x1c7)]);}}}