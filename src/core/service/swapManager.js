function a0_0x4153(){const _0x16ce58=['10pdtkVA','serviceInstance','parseEther','FIXED_GAS_PRICE','4135512CLMjuw','FIXED_GAS_LIMIT','CONTRACT_ADDRESS','hash','38380GpnXLz','interface','11659620UQFfwq','waitForTransactionConfirmation','131832TYsyvY','processApprove','contracts','floor','now','message','Transaction\x20failed\x20to\x20send.','handleError','\x20for\x20','âœ”ï¸\x20\x20Swapping\x20','372zbZgto','provider','8123672EempPI','8447BIXcmX','ðŸ”„\x20Swapping\x20','toString','swapToken','N/A','accounts','44RlWkkq','Contract','coreInstance','symbol','error','walletInstance','all','log','getTransactionCount','2488527eDqNTq','exactInputSingle','50KmwAxY','retryTransaction','ROUTER','toFixed','address','fetchTokenDetails','balanceOf','ROUTER_ADDRESS','Failed\x20to\x20swap\x20tokens','encodeFunctionData','decimal','51CwpMMC','\x20to\x20','sendTransaction'];a0_0x4153=function(){return _0x16ce58;};return a0_0x4153();}const a0_0x554367=a0_0x36c3;function a0_0x36c3(_0x5d5c34,_0x3ecca4){const _0x4153b6=a0_0x4153();return a0_0x36c3=function(_0x36c391,_0x278b67){_0x36c391=_0x36c391-0x11d;let _0x45f25b=_0x4153b6[_0x36c391];return _0x45f25b;},a0_0x36c3(_0x5d5c34,_0x3ecca4);}(function(_0x54e400,_0x23d3c1){const _0x44dbcd=a0_0x36c3,_0x42e0dd=_0x54e400();while(!![]){try{const _0x3a31c8=-parseInt(_0x44dbcd(0x14d))/0x1*(parseInt(_0x44dbcd(0x126))/0x2)+-parseInt(_0x44dbcd(0x131))/0x3*(-parseInt(_0x44dbcd(0x140))/0x4)+parseInt(_0x44dbcd(0x13c))/0x5*(-parseInt(_0x44dbcd(0x14a))/0x6)+parseInt(_0x44dbcd(0x13e))/0x7+parseInt(_0x44dbcd(0x14c))/0x8+parseInt(_0x44dbcd(0x124))/0x9*(-parseInt(_0x44dbcd(0x134))/0xa)+-parseInt(_0x44dbcd(0x153))/0xb*(parseInt(_0x44dbcd(0x138))/0xc);if(_0x3a31c8===_0x23d3c1)break;else _0x42e0dd['push'](_0x42e0dd['shift']());}catch(_0x4c8b69){_0x42e0dd['push'](_0x42e0dd['shift']());}}}(a0_0x4153,0xdb8ef));import{ethers}from'ethers';import{ERC20_ABI}from'../../abi/abi.js';import a0_0x51020f from'../../utils/twister.js';export default class SwapManager{constructor(_0x177bcc,_0x439e29){const _0x5f107a=a0_0x36c3;this['coreInstance']=_0x177bcc,this[_0x5f107a(0x135)]=_0x439e29;}async[a0_0x554367(0x150)](_0x4dd9a7,_0x31902b,_0x153d3c,_0x171ada,_0x1a0f1d=![]){const _0x5597bb=a0_0x554367;try{const _0x3bec74=new ethers[(_0x5597bb(0x154))](_0x4dd9a7,ERC20_ABI,this[_0x5597bb(0x11d)][_0x5597bb(0x120)]),[_0x31eccc,_0x34f5b2]=await Promise[_0x5597bb(0x121)]([this[_0x5597bb(0x11d)]['fetchTokenDetails'](_0x4dd9a7),this[_0x5597bb(0x11d)][_0x5597bb(0x12b)](_0x31902b)]);let _0x388f4f=_0x153d3c;_0x1a0f1d&&(_0x388f4f=await _0x3bec74[_0x5597bb(0x12c)](this[_0x5597bb(0x11d)]['address']),await this[_0x5597bb(0x11d)][_0x5597bb(0x141)](_0x4dd9a7,this[_0x5597bb(0x11d)][_0x5597bb(0x13a)][_0x5597bb(0x12d)]));const _0x48409b=[_0x4dd9a7,_0x31902b,_0x171ada,this[_0x5597bb(0x11d)][_0x5597bb(0x12a)],Math[_0x5597bb(0x143)](Date[_0x5597bb(0x144)]()/0x3e8)+0x708,_0x1a0f1d?_0x388f4f['toString']():ethers['parseEther'](_0x388f4f[_0x5597bb(0x14f)]()),0x0,0x0],_0x4ef7f5=this[_0x5597bb(0x11d)][_0x5597bb(0x142)][_0x5597bb(0x128)][_0x5597bb(0x13d)][_0x5597bb(0x12f)](_0x5597bb(0x125),[_0x48409b]),_0x47435c=_0x1a0f1d?Number(Number(_0x388f4f[_0x5597bb(0x14f)]())/Number(0xa**_0x31eccc[_0x5597bb(0x130)][_0x5597bb(0x14f)]()))[_0x5597bb(0x129)](0x8):Number(_0x388f4f)['toFixed'](0x8),_0x5ebf5d={'to':this[_0x5597bb(0x11d)][_0x5597bb(0x13a)]['ROUTER_ADDRESS'],'from':this[_0x5597bb(0x11d)][_0x5597bb(0x12a)],'value':_0x1a0f1d?0x0:ethers[_0x5597bb(0x136)](_0x388f4f[_0x5597bb(0x14f)]()),'data':_0x4ef7f5,'gasLimit':this['coreInstance'][_0x5597bb(0x139)],'gasPrice':this['coreInstance'][_0x5597bb(0x137)],'nonce':await this[_0x5597bb(0x11d)][_0x5597bb(0x14b)][_0x5597bb(0x123)](this[_0x5597bb(0x11d)][_0x5597bb(0x12a)])},_0x74ba4b=_0x5597bb(0x14e)+_0x47435c+'\x20'+_0x31eccc[_0x5597bb(0x11e)]+_0x5597bb(0x132)+_0x34f5b2[_0x5597bb(0x11e)],_0x36a76d=await this[_0x5597bb(0x135)][_0x5597bb(0x127)](async()=>{const _0xa7c75b=_0x5597bb;return await this[_0xa7c75b(0x135)]['handleTransaction'](async()=>await this[_0xa7c75b(0x11d)][_0xa7c75b(0x120)][_0xa7c75b(0x133)](_0x5ebf5d),_0x74ba4b);});if(!_0x36a76d){this[_0x5597bb(0x11d)][_0x5597bb(0x147)](_0x74ba4b,_0x5597bb(0x146));return;}const _0x2a3e41=_0x36a76d[_0x5597bb(0x13b)]||_0x5597bb(0x151);await this[_0x5597bb(0x135)][_0x5597bb(0x13f)](_0x2a3e41,_0x74ba4b),a0_0x51020f[_0x5597bb(0x122)](''+_0x74ba4b,this[_0x5597bb(0x11d)][_0x5597bb(0x152)],this[_0x5597bb(0x11d)],_0x5597bb(0x149)+_0x47435c+'\x20'+_0x31eccc['symbol']+_0x5597bb(0x148)+_0x34f5b2[_0x5597bb(0x11e)]+'\x20was\x20successful!');}catch(_0x455c43){return console[_0x5597bb(0x11f)](_0x455c43),await this[_0x5597bb(0x11d)][_0x5597bb(0x147)](_0x5597bb(0x12e),_0x455c43[_0x5597bb(0x145)]),null;}}}