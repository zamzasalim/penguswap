function a0_0x5e43(_0x44bd34,_0x4ebc84){const _0x1bddae=a0_0x1bdd();return a0_0x5e43=function(_0x5e4375,_0xf5111b){_0x5e4375=_0x5e4375-0x171;let _0x4fa005=_0x1bddae[_0x5e4375];return _0x4fa005;},a0_0x5e43(_0x44bd34,_0x4ebc84);}const a0_0xc533c5=a0_0x5e43;(function(_0x4286e3,_0x33bb45){const _0x4b00e9=a0_0x5e43,_0x5479f7=_0x4286e3();while(!![]){try{const _0x374d1f=parseInt(_0x4b00e9(0x1ab))/0x1*(-parseInt(_0x4b00e9(0x194))/0x2)+-parseInt(_0x4b00e9(0x18f))/0x3+parseInt(_0x4b00e9(0x171))/0x4*(-parseInt(_0x4b00e9(0x177))/0x5)+-parseInt(_0x4b00e9(0x199))/0x6+-parseInt(_0x4b00e9(0x175))/0x7+-parseInt(_0x4b00e9(0x173))/0x8+parseInt(_0x4b00e9(0x198))/0x9;if(_0x374d1f===_0x33bb45)break;else _0x5479f7['push'](_0x5479f7['shift']());}catch(_0x1871dd){_0x5479f7['push'](_0x5479f7['shift']());}}}(a0_0x1bdd,0x66e20));import{ethers}from'ethers';import a0_0x517dc1 from'../../utils/twister.js';import{ERC20_ABI}from'../../abi/abi.js';function a0_0x1bdd(){const _0x53ae94=['approveToken','WCTC','1336875yYuyqU','withdraw','deposit','Transaction\x20failed\x20to\x20send.','FIXED_GAS_LIMIT','353870Ibjgtf','encodeFunctionData','interface','accounts','35802243CiQWUE','4468302xSUzpZ','\x20failed','contracts','checkAllowance','coreInstance','walletInstance','message','handleError','‚ùå\x20Transaction\x20failed\x20to\x20send.','approve','toFixed','üîÑ\x20Wrapping\x20','Contract','\x20CTC\x20to\x20WCTC\x20success','swapCount','\x20WCTC\x20into\x20CTC','getTransactionCount','Failed\x20to\x20wrap\x20CTC','4iVtpTz','Approving\x20','2397932nTBjHf','wrap','3567928soMjpR','‚úîÔ∏è\x20\x20Unwrapping\x20','4291441blxnKa','error','5zjkvYw','log','FIXED_GAS_PRICE','retryTransaction','üîÑ\x20Unwrapping\x20','WCTC_ADDRESS','waitForTransactionConfirmation','handleTransaction','hash','provider','‚úîÔ∏è\x20\x20','sendTransaction','toString','allowance','\x20WCTC\x20to\x20CTC\x20success','formatUnits','‚ùå\x20Approving\x20token\x20failed','serviceManager','\x20Into\x20','parseEther','N/A','address'];a0_0x1bdd=function(){return _0x53ae94;};return a0_0x1bdd();}import a0_0x4c414c from'../../../setup.js';export default class TokenManager{constructor(_0x305e96,_0xb6cd64){const _0xc9aeae=a0_0x5e43;this[_0xc9aeae(0x19d)]=_0x305e96,this['serviceManager']=_0xb6cd64;}async[a0_0xc533c5(0x19c)](_0x4b34f9,_0x427540,_0x14c28f){const _0x48fd44=a0_0xc533c5,_0x2b5626=new ethers[(_0x48fd44(0x1a5))](_0x4b34f9,ERC20_ABI,this[_0x48fd44(0x19d)]['walletInstance']);return await _0x2b5626[_0x48fd44(0x184)](_0x14c28f,_0x427540);}async[a0_0xc533c5(0x18d)](_0x4dc2eb,_0x39ac11){const _0x1c1c66=a0_0xc533c5;try{const _0x54376f=new ethers[(_0x1c1c66(0x1a5))](_0x4dc2eb,ERC20_ABI,this['coreInstance'][_0x1c1c66(0x19e)]),_0x7e6d57=await _0x54376f['symbol'](),_0x34f31=_0x1c1c66(0x1ac)+_0x7e6d57+_0x1c1c66(0x189)+_0x39ac11,_0x36d3e6=_0x54376f['interface'][_0x1c1c66(0x195)](_0x1c1c66(0x1a2),[_0x39ac11,ethers['MaxUint256'][_0x1c1c66(0x183)]()]),_0x337d61={'to':_0x4dc2eb,'from':this[_0x1c1c66(0x19d)][_0x1c1c66(0x18c)],'value':0x0,'data':_0x36d3e6,'gasLimit':this['coreInstance'][_0x1c1c66(0x193)],'gasPrice':this[_0x1c1c66(0x19d)][_0x1c1c66(0x179)],'nonce':await this[_0x1c1c66(0x19d)][_0x1c1c66(0x180)][_0x1c1c66(0x1a9)](this[_0x1c1c66(0x19d)][_0x1c1c66(0x18c)])};try{const _0xd5eb6b=await this[_0x1c1c66(0x188)][_0x1c1c66(0x17a)](async()=>{const _0x3e209a=_0x1c1c66;return await this[_0x3e209a(0x188)]['handleTransaction'](async()=>await this[_0x3e209a(0x19d)][_0x3e209a(0x19e)]['sendTransaction'](_0x337d61),_0x34f31);});if(!_0xd5eb6b){this[_0x1c1c66(0x19d)][_0x1c1c66(0x1a0)](_0x34f31,_0x1c1c66(0x192)),this[_0x1c1c66(0x19d)][_0x1c1c66(0x1a7)]++;return;}const _0x14f66f=_0xd5eb6b[_0x1c1c66(0x17f)]||_0x1c1c66(0x18b);await this[_0x1c1c66(0x188)]['waitForTransactionConfirmation'](_0x14f66f,_0x34f31),a0_0x517dc1[_0x1c1c66(0x178)](''+_0x34f31,this[_0x1c1c66(0x19d)][_0x1c1c66(0x197)],this[_0x1c1c66(0x19d)],_0x1c1c66(0x181)+_0x34f31+'\x20success');}catch(_0x461927){console[_0x1c1c66(0x176)](_0x461927),this[_0x1c1c66(0x19d)][_0x1c1c66(0x1a0)]('‚ùå\x20'+_0x34f31+_0x1c1c66(0x19a),_0x461927[_0x1c1c66(0x19f)]);}}catch(_0x5c18d7){console[_0x1c1c66(0x176)](_0x5c18d7),this[_0x1c1c66(0x19d)][_0x1c1c66(0x1a0)](_0x1c1c66(0x187),_0x5c18d7[_0x1c1c66(0x19f)]);}}async[a0_0xc533c5(0x172)](_0x2b5fc9,_0x56b3da=![]){const _0x236fc9=a0_0xc533c5;try{const _0x1ddc1c=_0x56b3da==='wrap',_0x1fa275=_0x1ddc1c?_0x236fc9(0x191):_0x236fc9(0x190),_0x3706ba=this[_0x236fc9(0x19d)][_0x236fc9(0x19b)][_0x236fc9(0x18e)][_0x236fc9(0x196)][_0x236fc9(0x195)](_0x1fa275,_0x1ddc1c?[]:[_0x2b5fc9[_0x236fc9(0x183)]()]),_0x4e636c={'to':a0_0x4c414c['constant'][_0x236fc9(0x17c)],'from':this['coreInstance'][_0x236fc9(0x18c)],'value':_0x1ddc1c?ethers[_0x236fc9(0x18a)](_0x2b5fc9):0x0,'data':_0x3706ba,'gasLimit':this[_0x236fc9(0x19d)][_0x236fc9(0x193)],'gasPrice':this[_0x236fc9(0x19d)][_0x236fc9(0x179)],'nonce':await this[_0x236fc9(0x19d)][_0x236fc9(0x180)][_0x236fc9(0x1a9)](this[_0x236fc9(0x19d)][_0x236fc9(0x18c)])},_0x48d17f=_0x1ddc1c?_0x236fc9(0x1a4)+Number(_0x2b5fc9)[_0x236fc9(0x1a3)](0x8)+'\x20CTC\x20into\x20WCTC':_0x236fc9(0x17b)+Number(ethers[_0x236fc9(0x186)](_0x2b5fc9,0x12))[_0x236fc9(0x1a3)](0x8)+_0x236fc9(0x1a8),_0x339ab1=await this[_0x236fc9(0x188)]['retryTransaction'](()=>this[_0x236fc9(0x188)][_0x236fc9(0x17e)](()=>this[_0x236fc9(0x19d)][_0x236fc9(0x19e)][_0x236fc9(0x182)](_0x4e636c),_0x48d17f));if(!_0x339ab1){this[_0x236fc9(0x19d)][_0x236fc9(0x1a0)](_0x48d17f,_0x236fc9(0x1a1));return;}await this[_0x236fc9(0x188)][_0x236fc9(0x17d)](_0x339ab1['hash'],_0x48d17f),a0_0x517dc1[_0x236fc9(0x178)](''+_0x48d17f,this[_0x236fc9(0x19d)][_0x236fc9(0x197)],this[_0x236fc9(0x19d)],_0x1ddc1c?'‚úîÔ∏è\x20\x20Wrapping\x20'+Number(_0x2b5fc9)[_0x236fc9(0x1a3)](0x8)+_0x236fc9(0x1a6):_0x236fc9(0x174)+Number(ethers[_0x236fc9(0x186)](_0x2b5fc9,0x12))[_0x236fc9(0x1a3)](0x8)+_0x236fc9(0x185));}catch(_0x4d3b11){this['coreInstance']['handleError'](_0x236fc9(0x1aa),''+_0x4d3b11[_0x236fc9(0x19f)]);}}}